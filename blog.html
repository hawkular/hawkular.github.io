<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Hawkular</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="generator" content="JBake">

    <!-- css -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/asciidoctor.css" rel="stylesheet">
    <link href="css/base.css" rel="stylesheet">
    <link href="css/tabzilla.css" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">
    <link href="css/prettify.css" rel="stylesheet">
    <link href="css/ekko-lightbox.min.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
    <script src="js/moment.min.js"></script>
    <script src="js/jquery-1.11.2.min.js"></script>

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="alternate" href="feed.xml" title="Hawkular Blog - RSS" type="application/rss+xml">

  </head>
  <body onload="prettyPrint()" data-spy="scroll" data-offset="80" data-target="#toc">
    <div id="wrap">
      <div class="dropup">
        <a class="tabnav-closed" href="#" id="tab">Red Hat</a>
        <script>
            window.addEventListener('load', function() {
                 renderTabzilla("Hawkular", "https://hawkular.github.io", true );
            }, false);
        </script>
      </div>

    	<!-- Fixed navbar -->
        <nav class="navbar navbar-fixed-top" role="navigation">
          <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button class="navbar-toggle collapsed" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="">Home</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
              <ul class="nav navbar-nav">
                <li><a href="overview/">Overview</a></li>
                <li><a href="blog.html">Blog</a></li>
                <li class="dropdown">
                  <a aria-expanded="false" class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">
                    Hawkular Services<span class="caret"></span>
                  </a>
                  <ul class="dropdown-menu" role="menu">
                    <li class="menu-item dropdown dropdown-submenu">
                      <a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation</a>
                      <ul class="dropdown-menu">
                        <li class="menu-item ">
                          <a href="hawkular-services/docs/quickstart-guide/">Quickstart</a>
                        </li>
                        <li class="menu-item ">
                          <a href="hawkular-services/docs/installation-guide/">Installation Guide</a>
                        </li>
                        <li class="menu-item ">
                          <a href="hawkular-services/docs/user-guide/">User Guide</a>
                        </li>
                        <li class="menu-item dropdown dropdown-submenu">
                          <a href="#" class="dropdown-toggle" data-toggle="dropdown">REST API</a>
                          <ul class="dropdown-menu">
                            <li class="menu-item ">
                              <a href="docs/rest/rest-alerts.html">Alerting</a>
                            </li>
                            <li class="menu-item ">
                              <a href="docs/rest/rest-inventory.html">Inventory</a>
                            </li>
                            <li class="menu-item ">
                              <a href="docs/rest/rest-metrics.html">Metrics</a>
                            </li>
                          </ul>
                        </li>
                      </ul>
                    </li>
                    <li>
                      <a href="https://github.com/hawkular/hawkular-services/releases">Download</a>
                    </li>
                  </ul>
                </li>
                <li class="dropdown">
                  <a aria-expanded="false" class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">
                    Hawkular APM<span class="caret"></span>
                  </a>
                  <ul class="dropdown-menu" role="menu">
                    <li>
                      <li><a href="hawkular-apm/">Overview</a></li>
                    </li>
                    <li>
                      <a href="https://hawkular.gitbooks.io/hawkular-apm-user-guide/content/">Documentation</a>
                    </li>
                    <li>
                      <a href="https://github.com/hawkular/hawkular-apm/releases/">Download</a>
                    </li>
                  </ul>
                </li>
                <li class="dropdown">
                  <a aria-expanded="false" class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">
                    Hawkular Metrics<span class="caret"></span>
                  </a>
                  <ul class="dropdown-menu" role="menu">
                  <li class="menu-item dropdown dropdown-submenu">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Documentation</a>
                      <ul class="dropdown-menu">
                        <li class="menu-item ">
                          <a href="hawkular-metrics/docs/user-guide/">Metrics User Guide</a>
                        </li>
                        <li class="menu-item ">
                            <a href="community/docs/developer-guide/alerts.html">Alerting User Guide</a>
                        </li>
                        <li class="menu-item ">
                          <a href="docs/rest/rest-metrics.html">Metrics REST API</a>
                        </li>
                        <li class="menu-item ">
                          <a href="docs/rest/rest-alerts.html">Alerting REST API</a>
                        </li>
                      </ul>
                  </li>
                    <li>
                      <a href="https://github.com/hawkular/hawkular-metrics/releases/">Download</a>
                    </li>
                  </ul>
                </li>
                <li><a href="hawkular-clients/">Hawkular Clients</a></li>
                <li class="dropdown"><a aria-expanded="false" class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">
                  Community
                  <span class="caret"></span>
                </a>
                <ul class="dropdown-menu" role="menu">
                  <li>
                    <a href="community/docs/getting-involved/">Getting Involved</a>
                  </li>
                  <li class="menu-item ">
                    <a href="community/docs/developer-guide/">Developer Guide</a>
                  </li>
                  <li class="menu-item dropdown dropdown-submenu">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Labs</a>
                      <ul class="dropdown-menu">
                        <li class="menu-item ">
                          <a href="community/labs/datamining/">Datamining</a>
                        </li>
                        <li class="menu-item ">
                          <a href="https://github.com/pilhuhn/hawkfx">HawkFX</a>
                        </li>
                        <li class="menu-item ">
                          <a href="hawkular-clients/android-client/">Android client</a>
                        </li>
                        <li class="menu-item ">
                          <a href="https://github.com/jotak/hawkular-java-toolbox">Client-side java toolbox</a>
                        </li>
                      </ul>
                  </li>
                  <li>
                    <a href="https://github.com/hawkular">GitHub Repositories</a>
                  <li>
                    <a href="https://travis-ci.org/hawkular">CI Builds</a>
                  </li>
                </ul></li>
              </ul>
            </div>
          </div>
        </nav>


<section class="main-banner blog-mainbanner">
    <div class="container">
        <h1>Hawkular Blog</h1>
    </div>
</section>


<div class="blog-container">
            <a href="blog/2017/07/opentracing-jaxrs.html"><h1>OpenTracing JAX-RS Instrumentation</h1></a>
            <p>10 July 2017, by Pavol Loffay</p>
            <p><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In the previous <a href="http://www.hawkular.org/blog/2017/06/9/opentracing-spring-boot.html">demo</a>
we have demonstrated how to instrument a Spring Boot app
using <a href="http://opentracing.io">OpenTracing</a>, a vendor-neutral standard for distributed tracing.
In this article we are going to instrument a Java API for RESTful Web Services (JAX-RS), and show
you how to trace the business layer and add custom data to the trace.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_demo_application">Demo application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Creating a JAX-RS app from scratch can be a time consuming task, therefore in this case we are going to use
Wildfly Swarm&#8217;s <a href="http://wildfly-swarm.io/generator/">app generator</a>.
Select JAX-RS and CDI dependencies and hit generate button.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/img/blog/2017/wf-swarm-generator.png" alt="wf swarm generator">
</div>
<div class="title">Figure 1: Wildfly Swarm generator.</div>
</div>
<div class="paragraph">
<p>The generated application contains one REST endpoint which returns hello world string.
This endpoint is accessible on <code><a href="http://localhost:8080/hello" class="bare">http://localhost:8080/hello</a></code>.
In the next step we are going to add instrumentation and simple business logic.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_instrumentation">Instrumentation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Adding OpenTracing instrumentation to JAX-RS is very simple, just include the following dependency in
the classpath and the tracing feature will be automatically registered.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;dependency&gt;
    &lt;groupId&gt;io.opentracing.contrib&lt;/groupId&gt;
    &lt;artifactId&gt;opentracing-jaxrs2&lt;/artifactId&gt;
&lt;/dependency&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>OpenTracing is just an API, therefore it is required to register a specific tracer instance. In this demo
we are going to use <a href="https://github.com/uber/jaeger">Jaeger tracing system</a>. The tracer should be created
and initialized only once per process, hence <code>ServletContextListener</code> is the ideal place for this task:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">@WebListener
public class TracingContextListener implements ServletContextListener {

  @Inject
  private io.opentracing.Tracer tracer;

  @Override
  public void contextInitialized(ServletContextEvent sce) {
    GlobalTracer.register(tracer);
  }

  @Override
  public void contextDestroyed(ServletContextEvent sce) {}

  @Produces
  @Singleton
  public static io.opentracing.Tracer jaegerTracer() {
    return new Configuration("wildfly-swarm", new Configuration.SamplerConfiguration(
        ProbabilisticSampler.TYPE, 1),
        new Configuration.ReporterConfiguration())
        .getTracer();
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Tracer initialization code requires to specify app name, which is in this case <code>wildfly-swarm</code> and
sampler configuration.</p>
</div>
<div class="paragraph">
<p>Note that we are suing Java&#8217;s Context and Dependency Injection (CDI) to share a tracer instance in our app.
If we forget to register a specific tracer instance, then the tracing feature would use <code>NoopTracer</code>.
Now we can verify tracing by starting Jaeger server using the following command:
<code>docker run --rm -it --network=host jaegertracing/all-in-one</code> and accessing the endpoint at
<code><a href="http://localhost:8080/hello" class="bare">http://localhost:8080/hello</a></code>. Our trace with one span should be present in the UI at
<code><a href="http://localhost:16686" class="bare">http://localhost:16686</a></code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_instrumenting_business_logic">Instrumenting business logic</h2>
<div class="sectionbody">
<div class="paragraph">
<p>JAX-RS instrumentation provides nice visibility into your app, however, it is often
necessary to add custom data to the trace to see what is happening in the service or database layer.</p>
</div>
<div class="paragraph">
<p>The following code snippet shows how the service layer can create and add data to the trace:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-java" data-lang="java">public class BackendService {

  @Inject
  private io.opentracing.Tracer tracer;

  public String action() throws InterruptedException {
    int random = new Random().nextInt(200);

    try (ActiveSpan span = tracer.buildSpan("action").startActive()) {
      anotherAction();
      Thread.sleep(random);
    }

    return String.valueOf(random);
  }

  private void anotherAction() {
    tracer.activeSpan().setTag("anotherAction", "data");
  }</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that it&#8217;s not necessary to manually pass a span instance around. The method <code>anotherAction</code> accesses
the current active span from the tracer.</p>
</div>
<div class="paragraph">
<p>With the additional instrumentation shown above, an invocation of the REST endpoint would result in
a trace consisting of two spans, one representing the inbound server request, and the other the business logic.
The span representing server processing is automatically considered as the parent for span created in business layer.
If we created span in <code>anotherAction</code> then its parent would be span created in <code>action</code> method.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/img/blog/2017/swarm-jaeger.png" alt="swarm jaeger">
</div>
<div class="title">Figure 1: Jaeger showing reported spans.</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_video">Video</h2>
<div class="sectionbody">
<div class="videoblock">
<div class="content">
<iframe width="853" height="480" src="https://www.youtube.com/embed/gVwLenPH8SY?rel=0" frameborder="0" allowfullscreen></iframe>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion">Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We have demonstrated that instrumenting a JAX-RS app is just a matter of adding a dependency
and registering a tracer instance. If we would like to use a different OpenTracing implementation,
Zipkin for instance, it would just require changing tracer producer code. No changes to the application or
business logic! In the next demo we will wire this app with Spring Boot created
in previous demo and deploy them on Kubernetes.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_links">Links</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>OpenTracing: <a href="http://opentracing.io" class="bare">http://opentracing.io</a></p>
</li>
<li>
<p>Github repository with demo: <a href="https://github.com/pavolloffay/opentracing-java-examples" class="bare">https://github.com/pavolloffay/opentracing-java-examples</a></p>
</li>
<li>
<p>OpenTracing JAX-RS instrumentation: <a href="https://github.com/opentracing-contrib/java-jaxrs" class="bare">https://github.com/opentracing-contrib/java-jaxrs</a></p>
</li>
<li>
<p>Jaeger: <a href="https://github.com/uber/jaeger" class="bare">https://github.com/uber/jaeger</a></p>
</li>
</ul>
</div>
</div>
</div></p>
            <br />
            <hr /><br />
            <br />
            <a href="blog/2017/06/26/opentracing-appmetrics.html"><h1>Using OpenTracing to collect Application Metrics in Kubernetes</h1></a>
            <p>26 June 2017, by Gary Brown</p>
            <p><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This article will show how <a href="http://opentracing.io/">OpenTracing</a> instrumentation can be used to
collect Application Metrics, in addition to (but independent from) reported tracing data, from services
deployed within <a href="https://kubernetes.io/">Kubernetes</a>. These Application Metrics can then be displayed in
your monitoring dashboard and used to trigger alerts.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/img/blog/2017/2017-06-26-grafana-error-ratio.png" alt="2017 06 26 grafana error ratio">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_example_application">The example application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In a recent article we showed how a Spring Boot application could easily be
<a href="http://www.hawkular.org/blog/2017/06/9/opentracing-spring-boot.html">instrumented using OpenTracing</a>.</p>
</div>
<div class="paragraph">
<p>The <a href="https://github.com/objectiser/opentracing-prometheus-example">example</a> we are going to use in
this article uses the same approach to create two services, <em>ordermgr</em> and <em>accountmgr</em>.</p>
</div>
<div class="paragraph">
<p><em>accountmgr</em> presents a single REST endpoint (<code>/getAccount</code>) for internal use by <em>ordermgr</em>. The code for this endpoint
is:</p>
</div>
<div class="listingblock">
<div class="title">Account Managers&#8217;s Controller:</div>
<div class="content">
<pre>    @RequestMapping("/account")
    public String getAccount() throws InterruptedException {
        Thread.sleep(1 + (long)(Math.random()*500)); <i class="conum" data-value="1"></i><b>(1)</b>
        if (Math.random() &gt; 0.8) { <i class="conum" data-value="2"></i><b>(2)</b>
            throw new RuntimeException("Failed to find account");
        }
        return "Account details";
    }</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This line simply introduces a random delay, to make the collected metrics more interesting.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>These three lines randomly cause an exception which will result in the span (associated with the REST
endpoint invocation) being tagged as an error with associated log events identifying the error details.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><em>ordermgr</em> presents three REST endpoints for use by an end user. These are:</p>
</div>
<div class="listingblock">
<div class="title">Order Manager&#8217;s Controller:</div>
<div class="content">
<pre>    @Autowired
    private io.opentracing.Tracer tracer; <i class="conum" data-value="1"></i><b>(1)</b>

    @RequestMapping("/buy")
    public String buy() throws InterruptedException {
        Thread.sleep(1 + (long)(Math.random()*500)); <i class="conum" data-value="2"></i><b>(2)</b>
        tracer.activeSpan().setBaggageItem("transaction", "buy"); <i class="conum" data-value="3"></i><b>(3)</b>
        ResponseEntity&lt;String&gt; response = restTemplate.getForEntity(accountMgrUrl + "/account", String.class);
        return "BUY + " + response.getBody();
    }

    @RequestMapping("/sell")
    public String sell() throws InterruptedException {
        Thread.sleep(1 + (long)(Math.random()*500)); <i class="conum" data-value="2"></i><b>(2)</b>
        tracer.activeSpan().setBaggageItem("transaction", "sell"); <i class="conum" data-value="3"></i><b>(3)</b>
        ResponseEntity&lt;String&gt; response = restTemplate.getForEntity(accountMgrUrl + "/account", String.class);
        return "SELL + " + response.getBody();
    }

    @RequestMapping("/fail")
    public String fail() throws InterruptedException {
        Thread.sleep(1 + (long)(Math.random()*500)); <i class="conum" data-value="2"></i><b>(2)</b>
        ResponseEntity&lt;String&gt; response = restTemplate.getForEntity(accountMgrUrl + "/missing", String.class); <i class="conum" data-value="4"></i><b>(4)</b>
        return "FAIL + " + response.getBody();
    }</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The service injects the OpenTracing <code>Tracer</code> to enable access to the active span.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>All three methods introduce a random delay.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>buy</code> and <code>sell</code> methods additionally set a baggage item <code>transaction</code> with the name of the business
transaction being performed (i.e. buy or sell). For those not familiar with OpenTracing, the
<a href="https://github.com/opentracing/specification/blob/master/specification.md#set-a-baggage-item">baggage concept</a>
allows information to be carried <em>in band</em> with the trace context between invoked services. We will show
you how a baggage item can be used to isolate the metrics relevant only for a particular business transaction.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Invoking a non-existent endpoint on <em>accountmgr</em> will lead to an error being reported in the trace and
metric
data.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adding_metrics_reporting_to_the_opentracing_instrumentation">Adding Metrics Reporting to the OpenTracing instrumentation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The OpenTracing API defines the concept of a <em>Span</em> which represents a unit of work performed by a service,
e.g. to receive a service invocation, perform some internal task (e.g. accessing a database) or
invoking an external service. They provide an ideal basis upon which to report metrics
(count and duration) regarding these points within a service.</p>
</div>
<div class="paragraph">
<p>Therefore a new <a href="https://github.com/opentracing-contrib/java-metrics">OpenTracing contrib project</a> has
been established (initially just for Java) to intercept
the finished spans, and create the relevant metrics. These metrics are then submitted to a <em>MetricsReporter</em>
for recording - the initial implementation of this interface being for <a href="https://prometheus.io/">Prometheus</a>.</p>
</div>
<div class="paragraph">
<p>The first step is to expose an endpoint for collecting the Prometheus metrics. Each service has the following
configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>@Configuration
@ConditionalOnClass(CollectorRegistry.class)
public class PrometheusConfiguration {

     @Bean
     @ConditionalOnMissingBean
     CollectorRegistry metricRegistry() {
         return CollectorRegistry.defaultRegistry;
     }

     @Bean
     ServletRegistrationBean registerPrometheusExporterServlet(CollectorRegistry metricRegistry) {
           return new ServletRegistrationBean(new MetricsServlet(metricRegistry), "/metrics");
     }
}</pre>
</div>
</div>
<div class="paragraph">
<p>This will allow the Prometheus metrics to be obtained from the service&#8217;s <code>/metrics</code> REST endpoint.</p>
</div>
<div class="paragraph">
<p>Each service then requires a configuration to obtain the <code>io.opentracing.Tracer</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>@Configuration
public class TracerConfiguration implements javax.servlet.ServletContextListener {

	@Bean
	public io.opentracing.Tracer tracer() {
		return io.opentracing.contrib.metrics.Metrics.decorate(
			io.opentracing.contrib.tracerresolver.TracerResolver.resolveTracer(),
			PrometheusMetricsReporter.newMetricsReporter()
				.withBaggageLabel("transaction","n/a")
				.build());
	}

	@Override
	public void contextInitialized(javax.servlet.ServletContextEvent sce) {
		sce.getServletContext().setAttribute(io.opentracing.contrib.web.servlet.filter.TracingFilter.SKIP_PATTERN, Pattern.compile("/metrics"));
	}

	...</pre>
</div>
</div>
<div class="paragraph">
<p>The first method uses the
<a href="https://github.com/opentracing-contrib/java-tracerresolver">TracerResolver</a> to provide a vendor
neutral approach for accessing a <code>Tracer</code>. This tracer is then enhanced with the metrics capability
using a <code>PrometheusMetricsReporter</code>. This metrics reporter is further configured to add a special
label related to the baggage key <code>transaction</code> (discussed later).</p>
</div>
<div class="paragraph">
<p>By default, the Servlet OpenTracing integration will trace all REST endpoints. Therefore in the
second method above we add an attribute that will inform the instrumentation to ignore the <code>/metrics</code>
endpoint. Otherwise we will have tracing data reported each time Prometheus reads the metrics for the
service.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_deploying_on_kubernetes">Deploying on Kubernetes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The steps to set up an environment on Kubernetes is discussed in the
<a href="https://github.com/objectiser/opentracing-prometheus-example">example codebase</a>. A summary of the steps is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Start <a href="https://kubernetes.io/docs/getting-started-guides/minikube">minikube</a></p>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code>minikube start
minikube dashboard</code></pre>
</div>
</div>
</li>
<li>
<p>Deploy Prometheus - using the <a href="https://github.com/coreos/prometheus-operator">Prometheus Operator</a> project to
capture metrics from the services</p>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code>kubectl create -f https://raw.githubusercontent.com/coreos/prometheus-operator/master/bundle.yaml

# Wait until pods are green, then add configuration to locate service monitors based on label "team: frontend":
kubectl create -f https://raw.githubusercontent.com/objectiser/opentracing-prometheus-example/master/prometheus-kubernetes.yml

# Wait until these pods are green, then get the URL from the following command and open in browser:
minikube service prometheus --url</code></pre>
</div>
</div>
</li>
<li>
<p>Deploy <a href="https://github.com/uber/jaeger">Jaeger</a> - an OpenTracing compatible tracing system</p>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code>kubectl create -f https://raw.githubusercontent.com/jaegertracing/jaeger-kubernetes/master/all-in-one/jaeger-all-in-one-template.yml

# Once pods are green, then get the Jaeger dashboard URL from the following command and open in a browser
minikube service jaeger-query --url</code></pre>
</div>
</div>
</li>
<li>
<p>For this article, we also <a href="https://github.com/kubernetes/charts/tree/master/stable/grafana">deployed Grafana</a>
to display the metrics, although the Prometheus dashboard could be used. Once Grafana is installed:</p>
<div class="ulist">
<ul>
<li>
<p>Obtain the Prometheus server URL using <code>minikube service prometheus --url</code></p>
</li>
<li>
<p>Configure a new Datasource named <em>Prometheus</em> of type <code>Prometheus</code> and specify the URL obtained from the previous command</p>
</li>
<li>
<p>Download the example dashboard using the following command and import it into Grafana</p>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code>wget https://raw.githubusercontent.com/objectiser/opentracing-prometheus-example/master/simple/GrafanaDashboard.json</code></pre>
</div>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once they are all running, then the simple example with the two services can be deployed. For this you will need to
clone the <a href="https://github.com/objectiser/opentracing-prometheus-example">example code repo</a>, and follow
<a href="https://github.com/objectiser/opentracing-prometheus-example/blob/master/simple/README.md">these instructions</a>.</p>
</div>
<div class="paragraph">
<p>At this stage the Kubernetes dashboard would look like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/img/blog/2017/2017-06-26-kubernetes-dashboard.png" alt="2017 06 26 kubernetes dashboard">
</div>
<div class="title">Figure 1: Kubernetes dashboard</div>
</div>
<div class="paragraph">
<p>The example code includes a script that loops, randomly invoking the three REST endpoints provided by
<em>ordermgr</em>. Once some example requests have been created, you can view the tracing dashboard:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/img/blog/2017/2017-06-26-traces.png" alt="2017 06 26 traces">
</div>
<div class="title">Figure 2: Jaeger tracing dashboard</div>
</div>
<div class="paragraph">
<p>Then you can select a specific trace instance and see further details:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/img/blog/2017/2017-06-26-trace.png" alt="2017 06 26 trace">
</div>
<div class="title">Figure 3: Jaeger trace instance view</div>
</div>
<div class="paragraph">
<p>This shows that the trace instance has three spans, the first representing the receipt of the <code>/buy</code> request on
<em>ordermgr</em>, the second where <em>ordermgr</em> is invoking <em>accountmgr</em>, and finally the <em>accountmgr</em> receiving the
<code>/hello</code> request. In this particular trace instance, the <em>accountmgr</em> invocation has reported an error, indicated
by the <code>error=true</code> tag.</p>
</div>
<div class="paragraph">
<p>Now we will look at the Grafana dashboard to see what metrics have been reported from the OpenTracing
instrumentation within the two services:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/img/blog/2017/2017-06-26-grafana-dashboard.png" alt="2017 06 26 grafana dashboard">
</div>
<div class="title">Figure 4: Grafana dashboard</div>
</div>
<div class="paragraph">
<p>This dashboard includes three graphs, the first showing the number of spans created (i.e. span count) by
our <code>sell()</code> method, and we can use it to track how many times this business operation has been executed.
The second showing the average duration of the spans, and third showing the ratio between successful and
erronous spans.</p>
</div>
<div class="paragraph">
<p>The metrics reported by Prometheus are based on a range of labels - a metric exists for each unique combination
of those labels.</p>
</div>
<div class="paragraph">
<p>The standard labels included with the OpenTracing java-metrics project are: <code>operation</code>, <code>span.kind</code> and <code>error</code>.</p>
</div>
<div class="paragraph">
<p>With this particular example, we also included the <code>transaction</code> label.</p>
</div>
<div class="paragraph">
<p>However when the services are deployed to Kubernetes, the following additional labels are included for free: <code>pod</code>,
<code>instance</code>, <code>service</code>, <code>job</code> and <code>namespace</code>.</p>
</div>
<div class="paragraph">
<p>In our example Prometheus queries, we have ignored most of the Kubernetes added labels (except <code>service</code>) so that
the metrics are aggregated across the specific pods, namespaces, etc. However, having these labels available means
it is possible to segment the metrics in whatever way is required to analyse the data.</p>
</div>
<div class="paragraph">
<p>When using the <code>java-metrics</code> project outside of Kubernetes, it is still possible to include the <code>service</code>
label, however you would configure this when setting up the tracer.</p>
</div>
<div class="paragraph">
<p>We can also filter the data, to focus on specific areas of interest:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/img/blog/2017/2017-06-26-grafana-txn-service.png" alt="2017 06 26 grafana txn service">
</div>
<div class="title">Figure 5: Customized Grafana graph focusing on metrics for transaction 'sell' and service 'accountmgr'</div>
</div>
<div class="paragraph">
<p>In this image we have filtered the metrics based on the <code>transaction='sell'</code> and <code>service='accountmgr'</code>. This is
where using the metric label based on the baggage item <code>transaction</code> can be useful, to understand the
usage of a particular shared service by a business transaction. With further work it would be possible
to show the distribution of requests for a service across the various business transactions.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_video">Video</h2>
<div class="sectionbody">
<div class="videoblock">
<div class="content">
<iframe width="853" height="480" src="https://www.youtube.com/embed/UAxuo3CWmRE?rel=0" frameborder="0" allowfullscreen></iframe>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion">Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This article has shown how a service can be instrumented once (using OpenTracing) and generate both
tracing and application metrics.</p>
</div>
<div class="paragraph">
<p>When deployed to a Kubernetes environment, the metrics also benefit from an additional set of labels automatically
added by the infrastructure, describing the service, pod, namespace, etc. This makes it easy to isolate
specific metrics of interest, or view high level aggregated metrics to gain an overview of your
applications performance.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_links">Links</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>OpenTracing: <a href="http://opentracing.io" class="bare">http://opentracing.io</a></p>
</li>
<li>
<p>Github repository with demo: <a href="https://github.com/objectiser/opentracing-prometheus-example" class="bare">https://github.com/objectiser/opentracing-prometheus-example</a></p>
</li>
<li>
<p>OpenTracing java metrics: <a href="https://github.com/opentracing-contrib/java-metrics" class="bare">https://github.com/opentracing-contrib/java-metrics</a></p>
</li>
<li>
<p>Kubernetes: <a href="https://kubernetes.io" class="bare">https://kubernetes.io</a></p>
</li>
<li>
<p>Jaeger: <a href="https://github.com/uber/jaeger" class="bare">https://github.com/uber/jaeger</a></p>
</li>
<li>
<p>Prometheus: <a href="https://prometheus.io" class="bare">https://prometheus.io</a></p>
</li>
</ul>
</div>
</div>
</div></p>
            <br />
            <hr /><br />
            <br />
            <a href="blog/2017/06/9/opentracing-spring-boot.html"><h1>OpenTracing Spring Boot Instrumentation</h1></a>
            <p>13 June 2017, by Pavol Loffay</p>
            <p><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>In this demo series we are going to look at how simple it is to instrument various Java frameworks using
<a href="http://opentracing.io">OpenTracing</a>. You will see that it requires minimal changes to the
application code. In the last demo we will have microservice apps deployed on Kubernetes and
all services will be traced with an OpenTracing compliant tracing system.</p>
</div>
<div class="paragraph">
<p>In this first demo we are going to develop and trace a simple Spring Boot app.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_create_a_web_application">Create a web application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>First let&#8217;s write a simple web app. Or better, let&#8217;s generate it! All we have to do is just to select a web dependency.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/img/blog/2017/spring-initializr.png" alt="spring initializr">
</div>
<div class="title">Figure 1: Spring boot generator.</div>
</div>
<div class="paragraph">
<p>Now the application is generated, but it does not contain any web controller. We are going to implement a simple
controller with two methods. One will return a greeting and the other creates HTTP request which calls
hello endpoint. This demonstrates simple request chaining between services. Do not worry all the code is
on <a href="https://github.com/pavolloffay/opentracing-java-examples">GitHub</a>. At the bottom of this article you will
find all necessary links.</p>
</div>
<div class="listingblock">
<div class="title">Hello Controller:</div>
<div class="content">
<pre>@RestController
public class HelloController {

    @Autowired
    private RestTemplate restTemplate;

    @RequestMapping("/hello")
    public String hello() {
        return "Hello from Spring Boot!";
    }

    @RequestMapping("/chaining")
    public String chaining() {
        ResponseEntity&lt;String&gt; response = restTemplate.getForEntity("http://localhost:8080/hello", String.class);
        return "Chaining + " + response.getBody();
    }
}</pre>
</div>
</div>
<div class="paragraph">
<p>Now the application can serve requests for URLs <code><a href="http://localhost:8080/hello" class="bare">http://localhost:8080/hello</a></code> and <code><a href="http://localhost:8080/chaining" class="bare">http://localhost:8080/chaining</a></code>.
The app is still not instrumented, we won&#8217;t see any data coming to a tracing system.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_instrumentation">Instrumentation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Instrumentation with OpenTracing integrations is very simple. For Spring Boot there is
an auto-configuration which instruments all REST controllers and <code>RestTemplate</code> beans. Just add the following
dependency to the classpath:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&lt;dependency&gt;
    &lt;groupId&gt;io.opentracing.contrib&lt;/groupId&gt;
    &lt;artifactId&gt;opentracing-spring-web-autoconfigure&lt;/artifactId&gt;
&lt;/dependency&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>This dependency requires only one thing and that is a tracer bean which will be used to report data to the chosen
tracing system. If we don&#8217;t specify this bean auto-configuration will choose <code>NoopTracer</code>.</p>
</div>
<div class="paragraph">
<p>Because we are using OpenTracing instrumentation we are not bound to any specific tracing system.
We will now show how to first use Jaeger and then switch to Zipkin. We will see that changing the tracing system is just
a matter of configuration.</p>
</div>
<div class="paragraph">
<p>As we mentioned the only tracing configuration needed here is to provide a tracer bean.</p>
</div>
<div class="sect2">
<h3 id="_jaeger">Jaeger</h3>
<div class="paragraph">
<p>To create a Jaeger tracer is very simple. It just requires a sampler configuration and because it is a demo we are going
to sample all requests. Note that we are not specifying the URL to Jaeger server. By default it will assume that it
runs on localhost.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>@Bean
public io.opentracing.Tracer jaegerTracer() {
    return new Configuration("spring-boot", new Configuration.SamplerConfiguration(ProbabilisticSampler.TYPE, 1),
        new Configuration.ReporterConfiguration())
        .getTracer();</pre>
</div>
</div>
<div class="paragraph">
<p>Now we can start the Jaeger server using <code>docker run --rm -it --network=host jaegertracing/all-in-one</code>, compile and
run our app. When everything is up and running generate some requests to URL&#8217;s defined in the previous section.</p>
</div>
<div class="paragraph">
<p>Open the Jaeger UI on <code><a href="http://localhost:16686" class="bare">http://localhost:16686</a></code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/img/blog/2017/boot-jaeger-traces.png" alt="boot jaeger traces">
</div>
<div class="title">Figure 1: Jaeger showing reported traces.</div>
</div>
<div class="paragraph">
<p>On the picture we can see traces for the request to the <code>/chaining</code> endpoint. There are three spans: one representing
server processing of <code>/chaining</code>, the second a client request to <code>/hello</code> and the third server processing of <code>/hello</code> endpoint.</p>
</div>
</div>
<div class="sect2">
<h3 id="_zipkin">Zipkin</h3>
<div class="paragraph">
<p>Now let&#8217;s benefit from OpenTracing and switch tracing system with O(1) effort. To do that we just need to
provide an instance of Zipkin tracer bean. Do not forget to comment out the Jaeger tracer bean, otherwise instrumentation
would not know which tracer to use.</p>
</div>
<div class="paragraph">
<p>Zipkin configuration is very similar it just requires to know Zipkin URL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>@Bean
public io.opentracing.Tracer zipkinTracer() {
    OkHttpSender okHttpSender = OkHttpSender.create("http://localhost:9411/api/v1/spans");
    AsyncReporter&lt;Span&gt; reporter = AsyncReporter.builder(okHttpSender).build();
    Tracing braveTracer = Tracing.newBuilder().localServiceName("spring-boot").reporter(reporter).build();
    return BraveTracer.create(braveTracer);
}</pre>
</div>
</div>
<div class="paragraph">
<p>Zipkin server can be started with <code>docker run --rm -it -p 9411:9411 openzipkin/zipkin</code>. Now we have to rebuild and
start our demo app and generate requests.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/img/blog/2017/boot-zipkin-traces.png" alt="boot zipkin traces">
</div>
<div class="title">Figure 1: Zipkin showing reported traces.</div>
</div>
<div class="paragraph">
<p>This screenshot also show traces for invocation of <code>/chaining</code> endpoint. In this case it shows only two spans because Zipkin
uses a shared span model which means that client and server invocation of <code>/hello</code> uses the same span.
This is a great example that shows how different OpenTracing providers might model and show things differently.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_video">Video</h2>
<div class="sectionbody">
<div class="videoblock">
<div class="content">
<iframe width="853" height="480" src="https://www.youtube.com/embed/RvCcWltMY7U?rel=0" frameborder="0" allowfullscreen></iframe>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion">Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We have seen how simple it is to instrument Spring Boot with OpenTracing. This instrumentation leverages all
key OpenTracing <a href="http://opentracing.io/documentation/#why-opentracing">benefits</a> like: vendor-neutrality,
O(1) change of tracing system or wiring different instrumentations together. In the next blog post we will look at JAX-RS instrumentation and in the
last demo all applications will be deployed on Kubernetes and traced using Jaeger&#8217;s production deployment with Cassandra cluster.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_links">Links</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>OpenTracing: <a href="http://opentracing.io" class="bare">http://opentracing.io</a></p>
</li>
<li>
<p>Github repository with demo: <a href="https://github.com/pavolloffay/opentracing-java-examples" class="bare">https://github.com/pavolloffay/opentracing-java-examples</a></p>
</li>
<li>
<p>OpenTracing Spring Boot instrumentation: <a href="https://github.com/opentracing-contrib/java-spring-web" class="bare">https://github.com/opentracing-contrib/java-spring-web</a></p>
</li>
<li>
<p>Jaeger: <a href="https://github.com/uber/jaeger" class="bare">https://github.com/uber/jaeger</a></p>
</li>
<li>
<p>Zipkin: <a href="https://github.com/openzipkin/zipkin" class="bare">https://github.com/openzipkin/zipkin</a></p>
</li>
</ul>
</div>
</div>
</div></p>
            <br />
            <hr /><br />
            <br />
            <a href="blog/2017/06/06/hawkular-metrics-0.27.0.Final-released.html"><h1>Hawkular Metrics 0.27.0 - Release</h1></a>
            <p>06 June 2017, by Stefan Negrea</p>
            <p><p>I am happy to announce release 0.27.0 of Hawkular Metrics. This release is anchored by performance improvements and enhancements.</p>
<p>Here is a list of major changes:</p>
<ul>
  <li><strong>REST API - Updates</strong>
    <ul>
      <li>Resolved an issue where a failure to insert metric tags can result in inconsistent state for a metric's definition and tags index; <a href="https://issues.jboss.org/browse/HWKMETRICS-660">HWKMETRICS-660</a></li>
      <li>The <code>/metrics</code> endpoint is now aliased by <code>/m</code> to avoid false positives due to privacy blockers restricting access to <code>/metrics/metrics</code>; <a href="https://issues.jboss.org/browse/HWKMETRICS-621">HWKMETRICS-621</a></li>
      <li>Added <code>GET /${metric_type}/tags/{tags}/raw</code> endpoints for all metric types to allow easier querying for raw data; <a href="https://issues.jboss.org/browse/HWKMETRICS-482">HWKMETRICS-482</a></li>
    </ul>
  </li>
  <li><strong>Tag Query Language</strong>
    <ul>
      <li>A new set of operators was added for regex matching. The operators are <code>~</code> for a positive match and <code>!~</code> for a negative match.</li>
      <li>The existing equality operators (<code>=</code> and <code>!=</code>) will be exclusively used for strict string matching.</li>
      <li>This improves language expressiveness and also removes confusion about the actual meaning of the string operators.</li>
      <li>A side effect of this change is a dramatic performance improvement of up to 30x for expressions that use the equality operator (<code>=</code>).</li>
      <li>For more details please visit: <a href="https://issues.jboss.org/browse/HWKMETRICS-676">HWKMETRICS-676</a> and <a href="https://github.com/hawkular/hawkular-metrics/pull/828">PR-828</a></li>
    </ul>
  </li>
  <li><strong>Other Updates</strong>
    <ul>
      <li>Added a flag (<code>METRICS_EXPIRATION_JOB_ENABLED</code> set to true by default) to allow admins to disable the job that removes expired metric definitions. <a href="https://issues.jboss.org/browse/HWKMETRICS-643">HWKMETRICS-643</a></li>
      <li>Updated RXJava to version 1.2.8; <a href="https://issues.jboss.org/browse/HWKMETRICS-652">HWKMETRICS-652</a></li>
    </ul>
  </li>
</ul>
<p><strong>Hawkular Alerting - Included</strong></p>
<ul>
  <li>Version <a href="https://issues.jboss.org/projects/HWKALERTS/versions/12334290">1.7.0</a></li>
  <li>Project details and repository: <a href="https://github.com/hawkular/hawkular-alerts">Github</a></li>
  <li>Documentation: <a href="http://www.hawkular.org/docs/rest/rest-alerts.html">REST API</a>, <a href="https://github.com/hawkular/hawkular-alerts/tree/master/examples">Examples</a>, <a href="http://www.hawkular.org/community/docs/developer-guide/alerts.html">Developer Guide</a></li>
</ul>
<p><strong>Hawkular Metrics Clients</strong></p>
<ul>
  <li>Python: <a href="https://github.com/hawkular/hawkular-client-python">https://github.com/hawkular/hawkular-client-python</a></li>
  <li>Go: <a href="https://github.com/hawkular/hawkular-client-go">https://github.com/hawkular/hawkular-client-go</a></li>
  <li>Ruby: <a href="https://github.com/hawkular/hawkular-client-ruby">https://github.com/hawkular/hawkular-client-ruby</a></li>
  <li>Java: <a href="https://github.com/hawkular/hawkular-client-java">https://github.com/hawkular/hawkular-client-java</a></li>
</ul>
<h3>Release Links</h3>
<ul>
  <li>Github Release: <a href="https://github.com/hawkular/hawkular-metrics/releases/tag/0.27.0">https://github.com/hawkular/hawkular-metrics/releases/tag/0.27.0</a></li>
  <li>JBoss Nexus Maven artifacts: <a href="http://origin-repository.jboss.org/nexus/content/repositories/public/org/hawkular/metrics/">http://origin-repository.jboss.org/nexus/content/repositories/public/org/hawkular/metrics/</a></li>
  <li>Jira release tracker: <a href="https://issues.jboss.org/projects/HWKMETRICS/versions/12334300">https://issues.jboss.org/projects/HWKMETRICS/versions/12334300</a></li>
</ul>
<p>A big "Thank you" goes to John Sanda, Matt Wringe, Michael Burman, Joel Takvorian, Jay Shaughnessy, Lucas Ponce, and Heiko Rupp for their project contributions.</p></p>
            <br />
            <hr /><br />
            <br />
            <a href="blog/2017/05/31/hawkular-grafana-ootb.html"><h1>Hawkular and Grafana Out of the Box</h1></a>
            <p>31 May 2017, by Joel Takvorian</p>
            <p><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://github.com/jotak/hawkular-grafana-outofthebox">Hawkular and Grafana Out of the Box</a> is a new way to quickly setup Hawkular and Grafana together with very little work.</p>
</div>
<div class="paragraph">
<p>Assuming you already have docker installed and recent enough (you need at least Compose 1.6.0 and Docker Engine 1.10.0),
you&#8217;re just 2 lines of YAML edition and a <code>docker-compose up</code> away from having Hawkular + Grafana running and pre-configured.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
It is NOT intended for production/long-term usage unless you do some extra work to make it secured.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_does_it_work">How does it work?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let&#8217;s have a look to the docker-compose file:</p>
</div>
<div class="listingblock">
<div class="title">docker-compose.yml</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-yaml" data-lang="yaml">version: '2' <b class="conum">(1)</b>
services:
  hawkular:
    image: "hawkular/hawkular-services:latest" <b class="conum">(2)</b>
    ports:
      - "8080:8080"
      - "8443:8443"
      - "9990:9990"
    # volumes: <b class="conum">(3)</b>
    #   - /tmp/opt/hawkular/server:/opt/data:Z
    environment:
      - CASSANDRA_NODES=hawkular-cassandra
      - ADMIN_TOKEN
      - HAWKULAR_AGENT_ENABLE=false <b class="conum">(4)</b>
  hawkular-cassandra: <b class="conum">(5)</b>
    image: cassandra:3.0.9
    environment:
      - CASSANDRA_START_RPC=true
  grafana: <b class="conum">(6)</b>
    image: "hawkular/hawkular-grafana-datasource:latest"
    ports:
      - "3000:3000"
  bootstrap: <b class="conum">(7)</b>
    image: "jotak/hawkular-grafana-bootstrap:latest"
    environment:
      - TENANT=put_your_tenant_here
      - DASHBOARDS=put_dashboard_file_names_here</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Docker-compose format v2 brings some networking improvements that proved to be useful here, that&#8217;s why you&#8217;ll need docker 1.10.0+ and docker-compose 1.6.0+.</p>
</li>
<li>
<p>Using the official Hawkular Services image. Accessible on <a href="http://localhost:8080/hawkular/metrics" class="bare">http://localhost:8080/hawkular/metrics</a> or <a href="http://localhost:8080/hawkular/alerts" class="bare">http://localhost:8080/hawkular/alerts</a>, with credentials <em>jdoe</em>/<em>password</em>.</p>
</li>
<li>
<p>The volume is commented-out, so data is not persisted if you run <code>docker-compose down</code>. To persist data, uncomment these lines and eventually set something different than <code>/tmp/opt/hawkular/server</code> as the host directory. Make sure this directory exists on your host.</p>
</li>
<li>
<p>The Hawkular agent is disabled by default, which means Hawkular is not self-monitored. You can enable it if you want, and use the <code>hawkular-self</code> dashboard.</p>
</li>
<li>
<p>The Cassandra node. Note that it&#8217;s not exposed outside of the compose&#8217;s subnetwork.</p>
</li>
<li>
<p>The Grafana server with pre-installed Hawkular plugin, accessible on <a href="http://localhost:3000" class="bare">http://localhost:3000</a>, with credentials <em>admin</em>/<em>admin</em></p>
</li>
<li>
<p>This image contains a bootstrap script that configures a Grafana datasource with the <code>TENANT</code> defined as environment variable, which is also injected in dashboard templates defined here (<code>DASHBOARDS</code>). Those dashboards are sent to Grafana through its REST API. Current available dashboard templates are listed below.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If you want to have more than one tenant configured, you can add other sections to this compose file (<em>bootstrap2</em>, <em>bootstrap3</em>, etc. the name doesn&#8217;t matter),
with the same docker image and different environment variables. You are limited, however, in the number of tenants per dashboard (a single dashboard cannot use several tenants).
You need to duplicate dashboards, or create them manually.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_available_dashboard_templates">Available dashboard templates</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Only a few are available right now, but the list should grow and pull requests are welcome!</p>
</div>
<div class="paragraph">
<p>Some dashboards may be very specific, dedicated to the demos presented here, while others aim to be generic and reusable. The next step will be to inject custom dashboards through volume in docker-compose without having the rebuild the bootstrap image. Anyway, the current list is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>vertx-hwk</strong>: for Vert.X applications that use the <a href="http://vertx.io/docs/vertx-hawkular-metrics/java/">vertx-hawkular-metrics</a> module.</p>
</li>
<li>
<p><strong>vertx-dw</strong>: for Vert.X applications that use the <a href="http://vertx.io/docs/vertx-dropwizard-metrics/java/">vertx-dropwizard-metrics</a> module along with the <a href="https://github.com/hawkular/hawkular-metrics/tree/master/clients/dropwizard">Hawkular reporter</a>.</p>
</li>
<li>
<p><strong>hawkular-self</strong>: for Hawkular self monitoring using its WildFly agent (but could work with other WF apps)</p>
</li>
<li>
<p><strong>cpudemo</strong>: for the CPU demo (explained below)</p>
</li>
<li>
<p><strong>falco</strong>: for the game/demo "<a href="https://github.com/jotak/falco-demo">Falco the Hawk</a>"</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cpu_demo">CPU Demo</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Want a demo? Take the docker-compose file located in <code>cpudemo/</code> (<a href="https://github.com/jotak/hawkular-grafana-outofthebox/blob/master/cpudemo/docker-compose.yml">yes, this one</a>) and store it locally. From its location run:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-bash" data-lang="bash">docker-compose up</code></pre>
</div>
</div>
<div class="paragraph">
<p>The first run may take some time since the docker engine has to download several images.
Also, the Hawkular first start is longer because it has to setup schema in Cassandra.</p>
</div>
<div class="paragraph">
<p>Then open Grafana (<a href="http://localhost:3000" class="bare">http://localhost:3000</a>), log in (<em>admin</em>/<em>admin</em>), click on "Home" and you will see that a dashboard is already listed:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="/img/blog/2017/2017-05-30-hgootb-grafana-startup.png" alt="Grafana startup">
</div>
</div>
<div class="paragraph">
<p>Open it:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="/img/blog/2017/2017-05-30-hgootb-grafana-cpudemo.png" alt="Grafana CPU demo">
</div>
</div>
<div class="paragraph">
<p>You can see it&#8217;s updated regularly with your host&#8217;s CPU usage (to be more accurate, it&#8217;s the <a href="https://en.wikipedia.org/wiki/Load_(computing)">system load average</a> over the past minute).</p>
</div>
<div class="sect2">
<h3 id="_how_does_it_work_2">How does it work?</h3>
<div class="paragraph">
<p>It&#8217;s actually very simple. A <a href="https://github.com/jotak/hawkular-grafana-outofthebox/blob/master/cpudemo/push-cpu.sh">shell script</a> runs <code>top</code> and extracts the system load average.
That value is pushed to Hawkular every 10 seconds under the tenant <code>$TENANT</code> and gauge <code>load-avg</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-bash" data-lang="bash">while :
do
  loadavg=`awk '{ print $1 }' /proc/loadavg`
  ux_timestamp=`date +%s`
  timestamp=$(($ux_timestamp * 1000))
  curl -u jdoe:password -X POST http://hawkular:8080/hawkular/metrics/gauges/load-avg/raw \
    -d "[{\"timestamp\": $timestamp, \"value\": $loadavg}]" \
    -H "Content-Type: application/json" -H "Hawkular-Tenant: $TENANT"
  sleep 10
done</code></pre>
</div>
</div>
<div class="paragraph">
<p>This script is then included in a docker image (<code>jotak/hawkular-grafana-cpudemo</code>) with a simple Dockerfile:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-docker" data-lang="docker">FROM centos:7
ADD ./push-cpu.sh /tmp/push-cpu.sh
RUN chmod +x /tmp/push-cpu.sh
ENTRYPOINT ["/tmp/push-cpu.sh"]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The docker image is on dockerhub so you don&#8217;t have to worry about building it.</p>
</div>
<div class="paragraph">
<p>And finally, all the glue is done in the docker-compose file:</p>
</div>
<div class="listingblock">
<div class="title">docker-compose.yml</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-yaml" data-lang="yaml">hawkular:
  # (same as before)
hawkular-cassandra:
  # (same as before)
grafana:
  # (same as before)
bootstrap:
  image: "jotak/hawkular-grafana-bootstrap:latest"
  environment:
    - TENANT=cpudemo
    - DASHBOARDS=cpudemo
cpudemo:
  image: "jotak/hawkular-grafana-cpudemo:latest"
  environment:
    - TENANT=cpudemo</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, we just configured the tenant and dashboards in <code>bootstrap</code>,
and added a section for our new image <code>jotak/hawkular-grafana-cpudemo</code> with the same tenant configured.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hawkular_self_monitoring">Hawkular self monitoring</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Building Hawkular self monitoring is even simpler as there&#8217;s no outside application involved.
Take <a href="https://github.com/jotak/hawkular-grafana-outofthebox/blob/master/hawkular/docker-compose.yml">this docker-compose file</a> and put it up
(make sure you&#8217;ve stopped the other one before, to avoid port conflicts).
After several minutes of monitoring (be patient, some metrics take longer than others to gather), Grafana would display something like this:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="/img/blog/2017/2017-05-30-hgootb-grafana-hawkular.png" alt="Grafana Hawkular selfmon">
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="/img/blog/2017/2017-05-30-hgootb-grafana-hawkular2.png" alt="Grafana Hawkular selfmon">
</div>
</div>
<div class="paragraph">
<p>This dashboard can be reused for other WildFly application that uses the Hawkular WildFly agent, since the metrics come from there.</p>
</div>
<div class="sect2">
<h3 id="_how_does_it_work_3">How does it work?</h3>
<div class="paragraph">
<p>Just some tweaks in the docker-compose file were needed:</p>
</div>
<div class="listingblock">
<div class="title">docker-compose.yml</div>
<div class="content">
<pre class="prettyprint highlight"><code class="language-yaml" data-lang="yaml">hawkular:
  image: "hawkular/hawkular-services:latest"
  ports:
    - "8080:8080"
    - "8443:8443"
    - "9990:9990"
  environment:
    - CASSANDRA_NODES=hawkular-cassandra
    - ADMIN_TOKEN
    - HAWKULAR_AGENT_ENABLE=true <b class="conum">(1)</b>
hawkular-cassandra:
  # (same as before)
grafana:
  # (same as before)
bootstrap:
  image: "jotak/hawkular-grafana-bootstrap:latest"
  environment: <b class="conum">(2)</b>
    - TENANT=hawkular
    - DASHBOARDS=hawkular-self</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Hawkular environment variable <code>HAWKULAR_AGENT_ENABLE</code> was set to true to enable collecting agent&#8217;s metrics</p>
</li>
<li>
<p>In <code>bootstrap</code>, <em>TENANT</em> is set to <em>hawkular</em> (this is the tenant used internally to collect agent&#8217;s metrics) and the dashboard template is <em>hawkular-self</em>.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_falco_the_hawk">Falco the Hawk</h2>
<div class="sectionbody">
<div class="paragraph">
<p>"<a href="https://github.com/jotak/falco-demo">Falco the Hawk</a>" is a demo game developed for the occasion. It runs with Vert.X with metrics enabled, and also provide its own game metrics to Hawkular.
You can download its <code>docker-compose.yml</code> and put it up:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="prettyprint highlight"><code class="language-bash" data-lang="bash">wget -O docker-compose.yml https://raw.githubusercontent.com/jotak/falco-demo/master/docker-compose.yml

docker-compose up</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can open <a href="http://localhost:8081" class="bare">http://localhost:8081</a> to play the game (beware, 8bits-style music inside!), and see the metrics at the same time on <a href="http://localhost:3000" class="bare">http://localhost:3000</a>.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="/img/blog/2017/2017-05-30-hgootb-grafana-falco.png" alt="Grafana Falco the Hawk">
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="/img/blog/2017/2017-05-30-hgootb-grafana-vertx.png" alt="Grafana Vert.X">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_next">Next</h2>
<div class="sectionbody">
<div class="paragraph">
<p>That&#8217;s all for now. Please don&#8217;t hesitate to give feedback, ask for feature requests, maybe new dashboard templates, ask for help or submit pull requests. One link for that: <a href="https://github.com/jotak/hawkular-grafana-outofthebox" class="bare">https://github.com/jotak/hawkular-grafana-outofthebox</a></p>
</div>
</div>
</div></p>
            <br />
            <hr /><br />
            <br />



    <div class="large-4 columns blog-post-listings">
        <h2>Older posts:</h2>
        <ul>
          <li>25 May 2017 - <a href="blog/2017/05/25/jaeger-contributions.html">Kubernetes and OpenShift Templates for Jaeger</a></li>
          <li>03 May 2017 - <a href="blog/2017/05/03/hawkular-services-0.37-released.html">Hawkular Services 0.37.Final</a></li>
          <li>27 April 2017 - <a href="blog/2017/04/27/hawkular-alerting-tutorial-l6.html">Hawkular Alerting Tutorial: Lesson 06 - Events!</a></li>
          <li>19 April 2017 - <a href="blog/2017/04/19/hawkular-apm-jaeger.html">Hawkular APM: The Future</a></li>
          <li>07 April 2017 - <a href="blog/2017/04/07/cloudnativecon-summary.html">CloudNativeCon summary</a></li>
          <li>06 April 2017 - <a href="blog/2017/04/06/hawkular-alerting-elasticsearch.html">Alerts and Notifications for Elasticsearch using Hawkular Alerting</a></li>
          <li>05 April 2017 - <a href="blog/2017/04/05/deploy-hosa-easily.html">Deploying Hawkular OpenShift Agent Easily</a></li>
          <li>04 April 2017 - <a href="blog/2017/04/04/hawkular-metrics-0.26.0.Final-released.html">Hawkular Metrics 0.26.0 - Release</a></li>
          <li>25 March 2017 - <a href="blog/2017/03/25/collecting-application-metrics-openshift.html">Collecting Application Metrics Within OpenShift</a></li>
          <li>24 March 2017 - <a href="blog/2017/03/24/distributed-tracing-with-camel.html">Distributed Tracing with Apache Camel and OpenTracing</a></li>
          <li>24 March 2017 - <a href="blog/2017/03/24/hawkular-java-agent.html">Introducing Hawkular Java Agent</a></li>
          <li>22 March 2017 - <a href="blog/2017/03/22/apm-adjusting-sampling-rate.html">Adjusting sampling rates for Hawkular APM on OpenShift</a></li>
          <li>15 March 2017 - <a href="blog/2017/03/15/hawkular-opentracing-otsc.html">Distributed Tracing Workshop and OpenTracing Collaboration</a></li>
          <li>14 March 2017 - <a href="blog/2017/03/14/hawkular-alerting-tutorial.html">Hawkular Alerting: Tutorial Now Available!</a></li>
          <li>07 March 2017 - <a href="blog/2017/03/07/hawkular-metrics-0.25.0.Final-released.html">Hawkular Metrics 0.25.0 - Release</a></li>
          <li>22 February 2017 - <a href="blog/2017/02/22/pandas-and-hawkular-metrics.html">Processing Hawkular-Metrics data with Python Pandas</a></li>
          <li>15 February 2017 - <a href="blog/2017/02/15/hawkular-services-0.32-released.html">Hawkular Services 0.32.Final</a></li>
          <li>13 February 2017 - <a href="blog/2017/02/13/monitoring-canary-deployments.html">Monitoring Canary Releases with Hawkular APM</a></li>
          <li>08 February 2017 - <a href="blog/2017/02/08/hawkular-metrics-0.24.0.Final-released.html">Hawkular Metrics 0.24.0 - Release</a></li>
          <li>07 February 2017 - <a href="blog/2017/02/07/hawkular-metrics-roadmap.html">Hawkular Metrics - 2017 Roadmap</a></li>
          <li>04 February 2017 - <a href="blog/2017/02/04/hawkular-apm-service-deployments.html">Hawkular APM: Comparing performance of service versions</a></li>
          <li>03 February 2017 - <a href="blog/2017/02/03/grafana-events.html">Display custom events in Grafana</a></li>
          <li>31 January 2017 - <a href="blog/2017/01/31/hawkular-services-0.30-released.html">Hawkular Services 0.30.0.Final</a></li>
          <li>27 January 2017 - <a href="blog/2017/01/27/hosa-status.html">Getting the status of Hosa</a></li>
          <li>17 January 2017 - <a href="blog/2017/01/17/obst-hosa.html">Monitoring Microservices on OpenShift with HOSA</a></li>
          <li>16 January 2017 - <a href="blog/2017/01/16/hawkular-metrics-with-dropwizard.html">Reporting Dropwizard metrics to Hawkular</a></li>
          <li>13 January 2017 - <a href="blog/2017/01/13/events-aggregation-extension.html">Extending Complex Event Processing in Hawkular Alerting</a></li>
          <li>04 January 2017 - <a href="blog/2017/01/04/hawkular-metrics-0.23.0.Final-released.html">Hawkular Metrics 0.23.0 - Release</a></li>
          <li>22 December 2016 - <a href="blog/2016/12/22/hawkular-hawkinit-cli-tool.html">Hawkinit</a></li>
          <li>16 December 2016 - <a href="blog/2016/12/16/hawkular-apm-vertx-opentracing-openshift.html">Hawkular APM improvements for OpenShift</a></li>
          <li>06 December 2016 - <a href="blog/2016/12/06/hawkular-metrics-0.22.0.Final-released.html">Hawkular Metrics 0.22.0 - Release</a></li>
          <li>25 November 2016 - <a href="blog/2016/11/25/hawkular-apm-on-openshift.html">Using Hawkular APM on OpenShift</a></li>
          <li>16 November 2016 - <a href="blog/2016/11/16/hawkular-apm-opentracing-js.html">Hawkular APM OpenTracing JavaScript</a></li>
          <li>09 November 2016 - <a href="blog/2016/11/09/hawkular-services-0.20.0.Final.html">Hawkular Services 0.20.0.Final</a></li>
          <li>25 October 2016 - <a href="blog/2016/10/25/hawkular-metrics-0.21.0.Final-released.html">Hawkular Metrics 0.21.0 - Release</a></li>
          <li>24 October 2016 - <a href="blog/2016/10/24/hawkfx-alerts.html">Define Alert Triggers via HawkFX</a></li>
          <li>24 October 2016 - <a href="blog/2016/10/24/hawkular-metrics-openshift-and-grafana.html">Monitoring Microservices with OpenShift, Hawkular Metrics and Grafana</a></li>
          <li>17 October 2016 - <a href="blog/2016/10/17/hawkular-apm-opentracing-and-alerts.html">Hawkular APM supports OpenTracing and Alerts</a></li>
          <li>14 October 2016 - <a href="blog/2016/10/14/hawkular-apm-polyglot-zipkin.html">Hawkular APM Distributed Tracing of Polyglot Application using Zipkin Instrumentations</a></li>
          <li>06 October 2016 - <a href="blog/2016/10/06/hawkular-metrics-0.20.0.Final-released.html">Hawkular Metrics 0.20.0 - Release</a></li>
          <li>19 September 2016 - <a href="blog/2016/09/19/hawkular-apm-on-msa.html">Using Hawkular APM on Red Hat&apos;s Microservices Reference Architecture example</a></li>
          <li>14 September 2016 - <a href="blog/2016/09/14/consuming-hawkular-api-over-ssl.html">Consuming Hawkular API over SSL with self signed certificates</a></li>
          <li>05 September 2016 - <a href="blog/2016/09/05/hawkular-metrics-0.19.0.Final-released.html">Hawkular Metrics 0.19.0 - Release</a></li>
          <li>31 August 2016 - <a href="blog/2016/08/31/spark-metric-analysis.html">Metric Data Analysis using the Apache Spark</a></li>
          <li>11 August 2016 - <a href="blog/2016/08/11/vertx-agent-inventory-impl.html">Vert.x agent inventory implementation</a></li>
          <li>01 August 2016 - <a href="blog/2016/08/01/hawkular-metrics-0.18.0.Final-released.html">Hawkular Metrics 0.18.0 - Release</a></li>
          <li>19 July 2016 - <a href="blog/2016/07/19/android-client-progess.html">What is new in Android Client</a></li>
          <li>14 July 2016 - <a href="blog/2016/07/14/hawkular-apm-openshift.html">Monitoring Application Performance within Openshift</a></li>
          <li>14 July 2016 - <a href="blog/2016/07/14/hawkular-miq.html">Getting started with ManageIQ and Hawkular</a></li>
          <li>13 July 2016 - <a href="blog/2016/07/13/hawkfx.html">Introducing HawkFX</a></li>
          <li>12 July 2016 - <a href="blog/2016/07/12/hawkular-and-jmx-jolokia.html">Hawkular and JMX/Jolokia</a></li>
          <li>12 July 2016 - <a href="blog/2016/07/12/hawkular-and-prometheus.html">Hawkular and Prometheus</a></li>
          <li>06 July 2016 - <a href="blog/2016/07/06/hawkular-metrics-0.17.0.Final-released.html">Hawkular Metrics 0.17.0 - Release</a></li>
          <li>05 July 2016 - <a href="blog/2016/07/05/hawkular-services-0.0.5.Final.html">Hawkular Services 0.0.5.Final</a></li>
          <li>05 July 2016 - <a href="blog/2016/07/05/scaling-hawkular-alerting.html">Scaling stateful services: an example in Hawkular Alerting</a></li>
          <li>27 June 2016 - <a href="blog/2016/06/27/hawkular-apm-0.9-released.html">Hawkular APM 0.9.0.Final Released</a></li>
          <li>14 June 2016 - <a href="blog/2016/06/14/hawkular-services-0.0.2.Final.html">Hawkular Services 0.0.2.Final</a></li>
          <li>01 June 2016 - <a href="blog/2016/06/01/hawkular-btm-to-apm.html">Hawkular BTM component rename</a></li>
          <li>01 June 2016 - <a href="blog/2016/06/01/hawkular-metrics-0.16.0.Final-released.html">Hawkular Metrics 0.16.0 - Release</a></li>
          <li>26 May 2016 - <a href="blog/2016/05/26/hawkular-btm-booker-demo.html">Monitoring Microservices for Application Performance, Distributed Tracing and Business Transactions</a></li>
          <li>24 May 2016 - <a href="blog/2016/05/24/hawkular-btm-ticketmonster-demo.html">Obtaining business metrics without the need to instrument your application</a></li>
          <li>02 May 2016 - <a href="blog/2016/05/02/hawkular-metrics-0.15.0.Final-released.html">Hawkular Metrics 0.15.0 - Release</a></li>
          <li>28 April 2016 - <a href="blog/2016/04/28/new-packaging.html">New Hawkular packaging</a></li>
          <li>27 April 2016 - <a href="blog/2016/04/27/hawkular-inventory-0.15.0.Final-released.html">Hawkular Inventory 0.15.0.Final - Release</a></li>
          <li>22 April 2016 - <a href="blog/2016/04/22/collecting-metrics-from-prometheus-endpoints.html">Collecting Metrics from Prometheus Endpoints</a></li>
          <li>21 April 2016 - <a href="blog/2016/04/21/datamining-first-release.html">Hawkular Data Mining 0.1.0.Final Released</a></li>
          <li>19 April 2016 - <a href="blog/2016/04/19/jmxtrans-to-hawkular-metrics.html">Monitoring JVM applications with jmxtrans</a></li>
          <li>08 April 2016 - <a href="blog/2016/04/08/hawkular-manage-iq-sprint-demo.html">Hawkular in ManageIQ sprint demo(s)</a></li>
          <li>29 March 2016 - <a href="blog/2016/03/29/hawkular-metrics-0.14.0.Final-released.html">Hawkular Metrics 0.14.0 - Release</a></li>
          <li>21 March 2016 - <a href="blog/2016/03/20/qr-android.html">QR Code support for Android Client</a></li>
          <li>16 March 2016 - <a href="blog/2016/03/16/hawkular-metrics-roadmap.html">Hawkular Metrics - Roadmap</a></li>
          <li>15 March 2016 - <a href="blog/2016/03/15/hawkular-1.0.0.Alpha11-released.html">The eleventh milestone of Hawkular released</a></li>
          <li>02 March 2016 - <a href="blog/2016/03/02/hawkular-metrics-0.13.0.Final-released.html">Hawkular Metrics 0.13.0 - Release</a></li>
          <li>23 February 2016 - <a href="blog/2016/02/22/hawkular-manage-iq.html">Integration with ManageIQ</a></li>
          <li>02 February 2016 - <a href="blog/2016/02/02/hawkular-metrics-0.12.0.Final-released.html">Hawkular Metrics 0.12.0 - Release</a></li>
          <li>25 January 2016 - <a href="blog/2016/01/25/hawkular-btm-apm.html">Hawkular-BTM now includes Application Performance Management</a></li>
          <li>21 January 2016 - <a href="blog/2016/01/21/hawkular-1.0.0.Alpha9-released.html">The nineth milestone of Hawkular released</a></li>
          <li>21 January 2016 - <a href="blog/2016/01/21/hawkular-command-gateway-clients.html">Hawkular Command Gateway Clients</a></li>
          <li>20 January 2016 - <a href="blog/2016/01/20/hawkular-datamining-demo-hwk-alpha9.html">Hawkular Data Mining - Predictive Charts</a></li>
          <li>12 January 2016 - <a href="blog/2016/01/12/hawkular-metrics-0.11.0.Final-released.html">Hawkular Metrics 0.11.0 - Release</a></li>
          <li>05 January 2016 - <a href="blog/2016/01/05/we-are-hiring.html">We are hiring !</a></li>
          <li>16 December 2015 - <a href="blog/2015/12/16/hawkular-1.0.0.Alpha8-released.html">The eigth milestone of Hawkular released</a></li>
          <li>01 December 2015 - <a href="blog/2015/12/01/hawkular-btm-instrument-docker-image.html">BTM: Instrumenting an application running from a docker image</a></li>
          <li>30 November 2015 - <a href="blog/2015/11/30/hawkular-btm-0-6-0-released.html">Monitoring Business Transactions in JBoss Ticket Monster App (Part 2)</a></li>
          <li>19 November 2015 - <a href="blog/2015/11/19/hawkular-1.0.0.Alpha7-released.html">Yet another release of Hawkular, the seventh one !</a></li>
          <li>10 November 2015 - <a href="blog/2015/11/10/hawkular-btm-0-5-0-released.html">Monitoring Business Transactions in JBoss Ticket Monster App</a></li>
          <li>30 October 2015 - <a href="blog/2015/10/30/hawkular-metrics-0.8.0.Final-released.html">Hawkular Metrics 0.9.0 - Release</a></li>
          <li>30 October 2015 - <a href="blog/2015/11/30/hawkular-metrics-0.10.0.Final-released.html">Hawkular Metrics 0.10.0 - Release</a></li>
          <li>24 October 2015 - <a href="blog/2015/10/24/hawkular-datamining.html">Introduction to Hawkular Data Mining Module</a></li>
          <li>21 October 2015 - <a href="blog/2015/10/21/hawkular-1.0.0.Alpha6-released.html">The sixth milestone of Hawkular released</a></li>
          <li>12 October 2015 - <a href="blog/2015/10/12/hawkular-metrics-0.8.0.Final-released.html">Hawkular Metrics 0.8.0 - Release</a></li>
          <li>09 October 2015 - <a href="blog/2015/10/09/graph-db-performance.html">Titan Graph DB Performance Tips</a></li>
          <li>06 October 2015 - <a href="blog/2015/10/06/hawkular-btm-0-4-0-released.html">Hawkular-BTM 0.4.0 released</a></li>
          <li>05 October 2015 - <a href="blog/2015/10/05/hawkular-metrics-2k-commits.html">Hawkular Metrics - 2k Commits</a></li>
          <li>30 September 2015 - <a href="blog/2015/09/30/hawkular-metrics-0.7.0.Final-released.html">Hawkular Metrics 0.7.0 - Release</a></li>
          <li>23 September 2015 - <a href="blog/2015/09/23/hawkular-1.0.0.Alpha5-released.html">The fifth milestone of Hawkular released</a></li>
          <li>03 September 2015 - <a href="blog/2015/09/03/monitoring-rails-using-hawkular-metrics.html">Monitoring Rails App using Hawkular Metrics</a></li>
          <li>29 August 2015 - <a href="blog/2015/08/29/hawkular-metrics-0.6.0.Final-released.html">Hawkular Metrics 0.6.0 - Release</a></li>
          <li>27 August 2015 - <a href="blog/2015/08/27/hawkular-1.0.0.Alpha4-released.html">The fourth milestone of Hawkular released</a></li>
          <li>25 August 2015 - <a href="blog/2015/08/25/hawkular-alerts-autoresolve.html">Introduction to AutoResolve triggers</a></li>
          <li>19 August 2015 - <a href="blog/2015/08/19/hawkular-alerts-standalone.html">Using Hawkular Alerts as a standalone engine</a></li>
          <li>14 August 2015 - <a href="blog/2015/08/14/hawkular-btm-0.3.0-demo.html">Visualising Business Transaction Information using Hawkular BTM 0.3.0.Final with RTGov Integration</a></li>
          <li>30 July 2015 - <a href="blog/2015/07/30/hawkular-1.0.0.Alpha3-released.html">Hawkular, all good things make three!</a></li>
          <li>22 July 2015 - <a href="blog/2015/07/22/hawkular-btm-0.2.0-demo.html">Monitoring a Vert.x Application using Hawkular BTM 0.2.0.Final</a></li>
          <li>02 July 2015 - <a href="blog/2015/07/02/hawkular-1.0.0.Alpha2-released.html">Hawkular, the second release!</a></li>
          <li>01 July 2015 - <a href="blog/2015/07/01/hawkular-btm-0-1-0-released.html">Hawkular-BTM 0.1.0 released</a></li>
          <li>01 July 2015 - <a href="blog/2015/07/01/hawkular-btm-0.1.0-demo.html">Monitoring a SwitchYard Application using Hawkular BTM 0.1.0.Final</a></li>
          <li>22 June 2015 - <a href="blog/2015/06/23/hawkular-metrics-0-4-0-released.html">Hawkular Metrics 0.4.0 - Release</a></li>
          <li>17 June 2015 - <a href="blog/2015/06/17/marsjug-and-rivieradev-retrospective.html">MarsJUG and RivieraDEV retrospective</a></li>
          <li>04 June 2015 - <a href="blog/2015/06/04/hawkular-1.0.0.Alpha1-released.html">Hawkular, the first release!</a></li>
          <li>01 June 2015 - <a href="blog/2015/06/01/hawkular-metrics-0-3-4-released.html">Hawkular Metrics 0.3.4 - Release</a></li>
          <li>30 April 2015 - <a href="blog/2015/04/30/introducing-btm.html">Introducing the latest Hawkular component: Business Transaction Management</a></li>
          <li>29 April 2015 - <a href="blog/2015/04/29/hello-to-gsoc-students.html">Hello GSoC Students</a></li>
          <li>17 April 2015 - <a href="blog/2015/04/14/intro-to-hawkular.html">Intro to Hawkular, a middleware open-source management solution</a></li>
          <li>14 April 2015 - <a href="blog/2015/04/14/hawkular-monitor-agent-intro.html">Hawkular-Monitor Agent</a></li>
          <li>09 April 2015 - <a href="blog/2015/04/09/alert-notifiers-for-mobile-devices.html">Alert notifiers for mobile devices</a></li>
          <li>08 April 2015 - <a href="blog/2015/2015-04-08-1.html">Testing collectd integration</a></li>
          <li>07 April 2015 - <a href="blog/2015/2015-04-07-1.html">Hawkular Metrics 0.3.1 - Release</a></li>
          <li>01 April 2015 - <a href="blog/2015/2015-04-01-1.html">Hawkular Discontinued</a></li>
          <li>30 March 2015 - <a href="blog/2015/2015-03-30-1.html">Dockerized Hawkular builds available</a></li>
          <li>24 February 2015 - <a href="blog/2015/2015-02-24-1.html">The Kettle starts boiling</a></li>
          <li>16 February 2015 - <a href="blog/2015/2015-02-16-1.html">Hawkular Metrics 0.2.7 - Release</a></li>
        <br/><br/>
    </div>

    <a href=feed.xml><i class="fa fa-rss"></i> RSS Feed</a>
</div>


		</div>
		<div id="push"></div>
    </div>

    <section class="redhat clearfix">
      <div class="container">
        <p class="pull-left">
          <a href="http://www.redhat.com/">
            <img alt="redhatlogo-white" src="/img/redhatlogo-white.png" width="130">
          </a>
        </p>
        <p class="muted credit pull-right">
				  &copy; 2016 | Hawkular is released under <a href="/license.html">Apache License v2.0</a>
					<a href="https://twitter.com/hawkular_org" class="twitter-follow-button" data-show-count="false" data-size="medium">Follow @hawkular_org</a>
				  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
					<iframe src="https://ghbtns.com/github-btn.html?user=hawkular&repo=hawkular-services&type=star" frameborder="0" scrolling="0" class="github-stars-btn"></iframe>
				</p>

    <!--p id="forkongithubp"><span id="forkongithub">
      <a href="https://github.com/hawkular" class="bg-grey">
        Fork me on GitHub
      </a>
    </span></p-->
      </div>
    </section>

    <!-- javascript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- js -->
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <script src="js/jbossorg-tabzilla.js"></script>
    <script src="js/behavior.js"></script>
    <script src="js/prettify.js"></script>
    <script src="js//ekko-lightbox.min.js"></script>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'hawkular';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-61728352-1', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>
