<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Hawkular - Hawkular UI for Developers</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="generator" content="JBake">

    <!-- css -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="../../css/bootstrap.min.css" rel="stylesheet">
    <link href="../../css/asciidoctor.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link href="../../css/tabzilla.css" rel="stylesheet">
    <link href="../../css/styles.css" rel="stylesheet">
    <link href="../../css/prettify.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
    <script src="../../js/moment.min.js"></script>
    <script src="../../js/jquery-1.11.2.min.js"></script>

    <!-- Fav and touch icons -->
    <!--<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">-->
    <link rel="shortcut icon" href="../../favicon.ico">
    
  </head>
  <body onload="prettyPrint()" data-spy="scroll" data-offset="80" data-target="#toc">
    <div id="wrap">
      <div class="dropup">
        <a class="tabnav-closed" href="#" id="tab">Red Hat</a>
        <script>
            window.addEventListener('load', function() {
                 renderTabzilla("Hawkular", "https://hawkular.github.io", true );
            }, false);
        </script>
      </div>

	<!-- Fixed navbar -->
    <nav class="navbar navbar-fixed-top" role="navigation">
      <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button class="navbar-toggle collapsed" data-target="#bs-example-navbar-collapse-1" data-toggle="collapse" type="button">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../../index.html">Home</a>
        </div>
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav">
            <li><a href="../../index.html">Hawkular</a></li>
            <li>
              <a href="../../docs/user/getting-started.html">Getting
                  Started</a>
            </li>
            <li class=""><a href="../../downloads.html">Downloads</a></li>
            <li class="dropdown"><a aria-expanded="false" class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">
              Documentation
              <span class="caret"></span>
            </a>
            <ul class="dropdown-menu" role="menu">
              <li>
                <a href="../../docs/user/getting-started.html">User Documentation</a>
              </li>
              <li>
                <a href="../../docs/dev/development.html">Developer Documentation</a>
              </li>
              <li>
                <a href="../../docs/dev/terms.html">Used Terms</a>
              </li>
              <li class="menu-item dropdown dropdown-submenu">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">REST API</a>
                <ul class="dropdown-menu">
                  <li class="menu-item ">
                    <a href="../../docs/rest/rest-alerts.html">Alerts</a>
                  </li>
                  <li class="menu-item ">
                    <a href="../../docs/rest/rest-btm.html">Business Transaction Management</a>
                  </li>
                  <li class="menu-item ">
                    <a href="../../docs/rest/rest-inventory.html">Inventory</a>
                  </li>
                  <li class="menu-item ">
                    <a href="../../docs/rest/rest-metrics.html">Metrics</a>
                  </li>
                </ul>
              </li>
              <li class="menu-item dropdown dropdown-submenu">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Sub-projects</a>
                <ul class="dropdown-menu">
                  <li class="menu-item ">
                    <a href="../../docs/components/btm/index.html">Business Transaction Management</a>
                  </li>
                  <li class="menu-item ">
                    <a href="../../docs/components/inventory/index.html">Inventory</a>
                  </li>
                  <li class="menu-item ">
                    <a href="../../docs/components/metrics/index.html">Metrics</a>
                  </li>
                </ul>
              </li>
            </ul>
            <li class="dropdown"><a aria-expanded="false" class="dropdown-toggle" data-toggle="dropdown" href="#" role="button">
              Community
              <span class="caret"></span>
            </a>
            <ul class="dropdown-menu" role="menu">
              <li>
                <a href="../../community/index.html">Home</a>
              </li>
              <li>
                <a href="../../community/join.html">Join</a>
              </li>
              <li>
                <a href="../../license.html">License</a>
              </li>
              <li>
                <a href="https://travis-ci.org/hawkular">CI Builds</a>
              </li>
            </ul></li>
            <li class=""><a href="../../blog.html">Blog</a></li>
          </ul>
        </div>
      </div>
    </nav>

      <section class="main-banner">
        <div class="container">
          <h1>Hawkular UI for Developers</h1>
          <p>Hawkular UI Development Guide</p>
        </div>
      </section>

	<!--<p><em>13 May 2015</em></p>-->

	<section>
      <div class="container">
        <div id="preamble">
<div class="sectionbody">
<div id="toc" class="toc">
<div id="toctitle" class="title"></div>
<ul class="sectlevel1">
<li><a href="#_hawkular_console">Hawkular Console</a>
<ul class="sectlevel2">
<li><a href="#_overall_hawkular_ui_architecture">Overall Hawkular UI Architecture</a></li>
<li><a href="#_ui_directory_structure">UI Directory Structure</a></li>
<li><a href="#_maven_install">Maven Install</a></li>
<li><a href="#_hawkular_ui_dev_install">Hawkular UI Dev Install</a></li>
<li><a href="#_directory_structure">Directory Structure</a></li>
<li><a href="#_other_bower_packages">Other Bower Packages</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hawkular_console">Hawkular Console</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="https://github.com/hawkular/hawkular">Hawkular Console</a> is based on <a href="https://github.com/hawtio/hawtio/blob/master/docs/Overview2dotX.md">Hawt.io 2</a>, which a javascript based client-side framework.  Being Hawt.io 2 compatible gives us interopability with other hawt.io consoles such as OpenShift Origin (v3) and Fabric8.
The various directories underneath console directory are Hawt.io 2 plugins and the various plugins eventually compose a Hawkular console.
The modular approach to creating hawt.io console plugins allows us to create individual plugins that comprise a console or can easily  be plugged into other Hawtio based consoles. The plugin system makes it easy to add/remove functionality (even dynamically).</p>
</div>
<div class="sect2">
<h3 id="_overall_hawkular_ui_architecture">Overall Hawkular UI Architecture</h3>
<div class="imageblock">
<div class="content">
<img src="/img/dev-docs/hawkular-ui.png" alt="Hawkular UI Architecture">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ui_directory_structure">UI Directory Structure</h3>
<div class="ulist">
<ul>
<li>
<p>ui/console - directory for various Hawkular plugin UIs</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The general idea here being hawt.io UIs which are composed of plugins (that can swapped around like legos between the various hawt.io UIs)</p>
</div>
</div>
<div class="sect2">
<h3 id="_maven_install">Maven Install</h3>
<div class="paragraph">
<p>The easiest way to build the console is to use maven (inside the <code>ui/console</code> directory):</p>
</div>
<div class="paragraph">
<p><code>mvn install</code></p>
</div>
<div class="paragraph">
<p><em>No system <a href="http://nodejs.org/">Node.js</a> dependencies are needed.</em>
<a href="http://nodejs.org/">Node.js</a> and its related modules are managed by the <a href="https://github.com/eirslett/frontend-maven-plugin">frontend-maven-plugin</a>.
This maven plugin abstracts away all of the node and bower dependencies by downloading them locally and running build from a local
directory (no need to install or pollute your java environment with the unsavory characters of node.js and bower).
They are downloaded to the build target (./console/target) directory, where the actual <a href="http://gulpjs.com/">Gulp</a> based build process
(triggered by the maven plugin) happens.</p>
</div>
<div class="paragraph">
<p>To save some time during the build process, the downloaded <a href="http://nodejs.org/">Node.js</a> files and its related modules
don&#8217;t have to be deleted after invoking the <code>clean</code> target. If you want to persist the node.js related stuff in the target
directory, please use the <code>cache</code> profile:</p>
</div>
<div class="paragraph">
<p><code>mvn clean -Pcache</code></p>
</div>
<div class="paragraph">
<p>In that case, the <a href="http://nodejs.org/">Node.js</a> is not deleted and doesn&#8217;t have to be downloaded again, together with
npm modules and bower packages. Be aware, this causes the libraries not being updated, so there could be issues if a library changes..</p>
</div>
</div>
<div class="sect2">
<h3 id="_hawkular_ui_dev_install">Hawkular UI Dev Install</h3>
<div class="paragraph">
<p><em>Dev Installs allow for live previewing changes as development occurs. Its an interactive environment that allows one to
prototype quickly, seeing their changes instantly when they save since the browser refreshes with the changes.</em>
 Maven is <strong>not</strong> used for this process. Instead, <a href="http://gulpjs.com/">Gulp</a> build tool is used to build all the typescript/javascript files.
 For agile development, we&#8217;re using the watch feature of the gulp tool. Gulp can watch for changes in source files
 and update the compiled console accordingly.
 The advantage of this approach is, that is scans for file changes in the source directory and apply them directly
 into the target directory (<code>$HAWKULAR_ROOT/dist/target/hawkular-1.0.0.Alpha3-SNAPSHOT/hawkular-1.0.0.Alpha3-SNAPSHOT/</code>), which is suitable for console
 developing since it doesn&#8217;t require the whole maven build to see the actual changes in the console UI.</p>
</div>
<div class="paragraph">
<p>Assuming that <a href="https://nodejs.org/">node.js</a> is already installed (can also be installed via rpm or homebrew on mac):</p>
</div>
<div class="paragraph">
<p><code>npm install -g bower gulp typescript</code></p>
</div>
<div class="paragraph">
<p>You can re-build the console using java-script based Gulp tools. There are only three things to remember for this dev build:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>This is done after the maven build and with a running Hawkular server</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><strong>Build</strong> Hawkular: <code>mvn clean install -Pdev,link</code></p>
</li>
<li>
<p><strong>Run</strong> Hawkular: <code>cd dist/target/hawkular-1.0.0.Alpha3-SNAPSHOT/hawkular-1.0.0.Alpha3-SNAPSHOT/bin/</code> then <code>./standalone.sh</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Run gulp commands within gulp-build directory</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><strong>Goto</strong> gulp-build directory: <code>cd ui/console/target/gulp-build/</code></p>
</li>
<li>
<p><strong>Run</strong> the gulp watcher: <code>gulp watch-server</code></p>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Edit</strong> your source code at: <em>ui/console/src/main/scripts</em></p>
</li>
<li>
<p><strong>Refresh</strong> your browser to see the changes! <a href="http://localhost:8080/">http://localhost:8080/</a></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><em>Hint:</em> when you build with the -Pdev profile a default user is created with credentials: jdoe/password.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>The editing of source in one directory and running of gulp commands in another can often be a source of confusion for people using the first time.
(this is done to keep the build artifacts out of the source tree)</em></p>
</div>
<div class="paragraph">
<p>Optionally:</p>
</div>
<div class="paragraph">
<p>The <a href="http://bower.io/docs/api/">bower modules</a> (lib) and node modules <a href="https://docs.npmjs.com/">npm</a>(node_modules) should already be built but if you need to change or add more,
you can optionally run:</p>
</div>
<div class="paragraph">
<p><code>npm install</code></p>
</div>
<div class="paragraph">
<p><code>bower install</code></p>
</div>
</div>
<div class="sect2">
<h3 id="_directory_structure">Directory Structure</h3>
<div class="ulist">
<ul>
<li>
<p>dist - directory for  artifacts that need to published via bower package.</p>
</li>
<li>
<p>plugins  - directory containing Hawt.io 2 plugins for  Hawkular console. Multiple plugins can be packaged into a single bower component by adding the artifacts to the 'main' section of the bower.json file.</p>
<div class="ulist">
<ul>
<li>
<p>metrics - metrics is one plugin there are others</p>
<div class="ulist">
<ul>
<li>
<p>ts - the typescript source (angular controllers, directives and services mostly)</p>
</li>
<li>
<p>html - the html views (using angular directives)</p>
</li>
<li>
<p>less - the css LESS files</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The general idea here being that Hawt.io UIs which are composed of plugins (that can swapped around like legos between the various other Hawt.io UIs)</p>
</div>
</div>
<div class="sect2">
<h3 id="_other_bower_packages">Other Bower Packages</h3>
<div class="paragraph">
<p>The <code>link</code> profile links other bower packages to hawkular. For example, hawkular-ui-services or hawkular-charts or any other bower package.
This is very useful when developing or debugging other bower packages with hawkular. To enable this just set the <code>bower.link.package</code> parameter, i.e.:</p>
</div>
<div class="paragraph">
<p><code>mvn clean install -Pdev,link -Dbower.link.package=hawkular-charts</code></p>
</div>
<div class="paragraph">
<p>Please, be aware, that you can combine the <code>link</code> profile with other profiles, like the <code>dev</code> profile. <em>Don&#8217;t forget to
run <code>bower link</code> in the package you&#8217;re about to link before running maven <code>link</code> profile.</em></p>
</div>
</div>
</div>
</div>
      </div>
    </section>

		</div>
		<div id="push"></div>
    </div>

    <section class="redhat clearfix">
      <div class="container">
        <p class="pull-left">
          <a href="http://www.redhat.com/">
            <img alt="redhatlogo-white" src="../..//img/redhatlogo-white.png" width="130">
          </a>
        </p>
        <p class="muted credit pull-right">&copy; 2015 | Baked with <a href="http://jbake.org">JBake v2.4.0</a></p>
    <p id="forkongithubp"><span id="forkongithub">
      <a href="https://github.com/hawkular" class="bg-grey">
        Fork me on GitHub
      </a>
    </span></p>
      </div>
    </section>

    <!-- javascript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- js -->
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <script src="../../js/jbossorg-tabzilla.js"></script>
    <script src="../../js/behavior.js"></script>
    <script src="../../js/prettify.js"></script>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'hawkular';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-61728352-1', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>
